@(
	dashboards: List[com.lucidchart.open.nark.models.records.Dashboard]
)(
	implicit
	request: com.lucidchart.open.nark.request.AppRequest[_],
	userOption: Option[com.lucidchart.open.nark.models.records.User]
)
@import com.lucidchart.open.nark.controllers.{routes=>narkRoutes}
@import com.lucidchart.open.nark.views

@com.lucidchart.open.nark.views.html.layouts.main("Home", userOption = userOption) {
	<h3>Welcome to Nark!</h3>
	@if(userOption.isDefined) {
		<br>
		<h4>Your Dashboards</h4>
		<table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="dashboard-table1">
			<thead>
			<tr>
				<th>Dashboard</th>
				<th>Active</th>
			</tr>
			</thead>
			<tbody>
				@dashboards.take(5).filter(d => userOption.get.id == d.userId).map { case dashboard =>
					<tr>
						<td><a href="@narkRoutes.DashboardsController.dashboard(dashboard.url)">@dashboard.name</a></td>
						@if(userOption.get.id == dashboard.userId) {
							<td><a href="@narkRoutes.DashboardsController.toggleActivation(dashboard.id)">@{!dashboard.deleted}</a></td>
						} else {
							<td>@{!dashboard.deleted}</td>
						}
					</tr>
				}
			</tbody>
		</table>
	}
	<br>
	<h4>All Dashboards</h4>
	<table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="dashboard-table2">
		<thead>
		<tr>
			<th>Dashboard</th>
			<th>Active</th>
		</tr>
		</thead>
		<tbody>
		@dashboards.take(5).map { case dashboard =>
			<tr>
				<td><a href="@narkRoutes.DashboardsController.dashboard(dashboard.url)">@dashboard.name</a></td>
				@if(userOption.isDefined && userOption.get.id == dashboard.userId) {
					<td><a href="@narkRoutes.DashboardsController.toggleActivation(dashboard.id)">@{!dashboard.deleted}</a></td>
				} else {
					<td>@{!dashboard.deleted}</td>
				}
			</tr>
			}
		</tbody>
	</table>
	<br>
	<div class="well">
		Nark was originally created by <a href="https://www.lucidchart.com/" target="_blank">Lucid Software Inc.</a>
		in reponse to a lack of alerting and dynamic dashboard options in the graphite ecosystem.
	</div>
}
